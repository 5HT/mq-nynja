[   {emq_dashboard, [{listeners_dash,[{http,18083,[{acceptors,4},{max_clients,512}]}]}]},
    {emqttd, [{listeners,[{http,8083,[{acceptors,4},{max_clients,512}]}]},
            {sysmon, [{long_gc,false},{long_schedule,240},{large_heap,8000000},
                      {busy_port,false},{busy_dist_port,true}]},
            {session,[{upgrade_qos,off},{max_inflight,32},{retry_interval,20},
                      {max_awaiting_rel,100},{await_rel_timeout,20},{enable_stats,off}]},
            {queue,[]},
            {allow_anonymous,true},
            {protocol,[{max_clientid_len,1024},
                       {max_packet_size,64000}]},
            {acl_file,"etc/acl.conf"},
            {plugins_etc_dir,"etc/plugins/"},
            {plugins_loaded_file, "etc/loaded_plugins"},
            {pubsub, [{pool_size,8},
                      {by_clientid,true},
                      {async,true} ]} ]},
   {emq_modules, [{presence,[{qos,1}]},
                  {subscription,[{topic,"user/%c"},{qos,2}]},
                  {rewrite,[{rule1,"x/# ^x/y/(.+)$ z/y/$1"},
                            {rule2,"y/+/z/# ^y/(.+)/z/(.+)$ y/z/$2"}]}]},
 {kvs, [{dba,store_mnesia},
        {schema, [kvs_user, kvs_acl, kvs_feed, kvs_subscription ]} ]},
    {n2o, []}
].
